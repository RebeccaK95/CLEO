<div class="container min-height">
  <div class="category-cards">
    <% @categories.each do |category| %>
      <div class="category-card <%=category.name.downcase%>" data-category="<%=category.name.downcase%>">
        <h2 data-category="<%=category.name.downcase%>"><%= category.name %></h2>
      </div>
    <% end %>
  </div>
  <!-- Search bar -->
  <div class="search-bar">
    <%= simple_form_for :search, url: challenges_path, method: :get do |f| %>
      <div class="search-form-control input-group form-group mb-4">
        <input class="form-control string required blue-border rounded-0" type="text" placeholder="<%= @placeholder %>" name="[query]" id="pg_search" />
        <button class="btn bg-transparent" type="submit">
          <i class="fas fa-times-circle"></i>
        </button>
        <div class="input-group-append">
          <button name="button" type="submit" class="input-group-text green lighten-3 rounded-0" id="basic-text1">
            <span ><i class="fas fa-search text-white"
              aria-hidden="true"></i></span>
          </button>
        </div>
      </div>
    <% end %>
  </div>

  <div class="cards">
    <% @challenges.each do |challenge| %>

    <div class="challenge-card" data-category="<%=challenge.category.name.downcase%>">
      <%= image_tag("#{challenge.image}") %>
      <div class="challenge-card-infos">
        <h2><%= link_to challenge.name, challenge_path(challenge) %></h2>
        <h3 class="category-tip-dashboard"><%= challenge.category.name %></h3>
        <p><%= challenge.description.to_s.truncate(80) %><%= link_to "     Read more", challenge_path(challenge) %></p>
      </div>
    </div>
    <% end %>
  </div>
</div>
